{% extends ajaxMode == 'false' ? 'main.html.twig' : 'empty.html.twig' %}
{%  block main %}

	{%if ( modif == 1 ) %}
    <h2>Modifier article</h2>
	{% else %}
    <h2>Nouvel article</h2>
	{% endif %}
    
    {% if error %}
        <div class="frame-red">{{error}}</div>
    {% endif %}

			{%if ( modif == true ) %}
            <a class="btdel" onclick="bj(this)" 
                data-bj="main|postUpdate|postId={{postId}}|catid,title,excerpt,content">
                Modifier</a>
                <a class="btn" href="/post/{{postId}}" onclick="bh(this)">Annuler</a>
			{% else %}
            <a class="btsav" onclick="bj(this)" 
                data-bj="main|postSave||catid,title,excerpt,content">
                Enregistrer</a>
			{% endif %}
        <div class="frame-white">
            <div class="area">
                <select id="catid">
			    {% for category in categories %}
                    <option value="{{category.id}}">{{category.category}}</option>
			    {% endfor %}
                </select>
                <label for="catid">Catégorie</label>
            </div>
            <div class="area">
                <input type="text" id="title" placeholder="Titre" value="{{article.title}}">
            </div>
            <div class="area">
                <textarea id="excerpt" placeholder="Résumé">{{article.excerpt}}</textarea>
            </div>


            <div class="menu">
            <select onchange="execom2(this.value)">
                <option value="no">titres</option>
                <option value="p">normal</option>
                <option value="h2">h2</option>
                <option value="h3">h3</option>
                <option value="h4">h4</option>
            </select>
                <a onclick="execom('increaseFontSize')">+</a>
                <a onclick="execom('decreaseFontSize')">-</a>
                <a onclick="execom('bold')">b</a>
                <a onclick="execom('italic')">i</a>
                <a onclick="execom('underline')">u</a>
                <a onclick="execom('strikeThrough')">k</a>
                <a onclick="execom('insertUnorderedList')">list</a>
                <a onclick="execom('Indent')">block</a>
                <a onclick="execom('Outdent')">outblock</a>
                <a onclick="execom('createLink')">url</a>
            </div>

            <div id="content" class="editarea" contenteditable>{{article.content | raw }}</div>

            <div id="postTest"></div>
        </div>
{% endblock %}
